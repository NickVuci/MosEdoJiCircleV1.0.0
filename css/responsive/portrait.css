@media (max-aspect-ratio: 1.05/1) {
    #main-wrapper {
        flex-direction: column;
        min-height: 0;
        height: 100vh;
    }
    
    #sidebar {
        width: 100vw;
        max-width: 100vw;
        min-width: 0;
        height: auto;
        max-height: 40vh;
        border-right: none;
        border-bottom: 1px solid var(--module-border);
        flex-direction: row;
        overflow-x: auto;
        overflow-y: hidden;
        position: static;
        top: auto;
        z-index: 2;
        padding: var(--space-sm);
        gap: var(--space-sm);
        box-sizing: border-box;
    }
    
    .control-module {
        min-width: 180px;
        max-width: 230px;
        width: 180px;
        margin: 0;
    }
    
    #main-content {
        flex: 1;
        height: 60vh;
    }
    
    #visualization {
        height: 100%;
    }
}
